# 模板管理功能设计与可行性分析报告

## 🔍 当前项目模板管理现状分析

### 现有架构

| 层级 | 组件 | 功能 |
|------|------|------|
| **数据库** | SQLite (`metadata.db`) | 存储模板元数据：`id`, `mode`, `name`, `fingerprint`, `tags`, `filename`, `created_at`, `updated_at` |
| **文件存储** | `data/templates/*.json` | 模板区块定义（regions + table_settings） |
| **源文件库** | `data/template_sources/*.pdf` | PDF 源文件持久化存储 |
| **前端** | `TemplateCreator.jsx` | 模板制作 + 编辑 + 可视化调整 |
| **API** | `/templates`, `/analyze`, `/extract`, `/table/analyze` | CRUD + 识别 + 提取 |

---


## 📋 功能蓝图

### 1. 模板生命周期管理
- [ ] **多维分类体系**：支持目录层级、颜色标签、类型标签等多维度归档。
- [ ] **唯一标识 (UID)**：模板以 ID 为核心索引，确保引用稳定性。
- [ ] **全功能检索**：支持组合查询（标签 + 关键词 + 创建时间）。

### 2. 非破坏性编辑
- [ ] **状态缓存**：点击“编辑”自动还原上次的完整工作流。
- [ ] **可视化操作**：支持在原图上直接调整、增删区块。

---

## 🛠️ 当前任务：小改实现清单

- [x] **复制 ID**：在模板列表或详情中增加一键复制 UID 的功能。
- [x] **删除模板**：在前端增加删除模板的入口，同步清理后端数据库与文件。
- [x] **UI 优化**：在模板选择器中显示更多元数据（如创建时间、标签），并引入点击自动置顶的平滑动效。

---

## 🚀 未来扩展建议 (待办)
1. **缩略图生成**：自动生成模板首页缩略图。
2. **版本管理**：实现模板的版本链，支持回滚。
3. **批量操作**：支持批量打标签或删除。
