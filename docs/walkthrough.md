# ç‰ˆé¢è¯†åˆ«å¢å¼ºåŠŸèƒ½ (æ–¹æ¡ˆ 2) äº¤ä»˜æŠ¥å‘Š

æˆ‘ä»¬å·²æˆåŠŸå®ç°äº† DocLayout-YOLO çš„å‚æ•°æ‰©å±•åŠå‰ç«¯åˆ†å±‚æ§åˆ¶é¢æ¿ã€‚æœ¬æ¬¡æ›´æ–°æ˜¾è‘—æå‡äº†å•æ®è¯†åˆ«çš„çµæ´»æ€§ï¼Œå°¤å…¶æ˜¯åœ¨é«˜ç²¾åº¦å·¥ä¸šå•æ®å¤„ç†åœºæ™¯ä¸‹ã€‚

## ä¸»è¦å˜æ›´

### 1. åç«¯å‚æ•°åŒ–æ¨ç† (Phase 1)
- **æ”¯æŒå‚æ•°**: ç°åœ¨å¯ä»¥åŠ¨æ€è°ƒæ•´ `imgsz` (æ¨ç†åˆ†è¾¨ç‡)ã€`iou` (æŠ‘åˆ¶é˜ˆå€¼) å’Œ `agnostic_nms` (è·¨ç±»åˆ«æŠ‘åˆ¶)ã€‚
- **æ ¸å¿ƒé€»è¾‘**: åœ¨ `inference.py` ä¸­é›†æˆäº†ä¸Šè¿°å‚æ•°åˆ° YOLO `predict` æ–¹æ³•ï¼Œå¹¶é€šè¿‡ `/analyze` æ¥å£æ”¯æŒ `refresh` å‚æ•°å¼ºåˆ¶åˆ·æ–°ç»“æœï¼Œè§£å†³äº†ç”±äºæ¨¡æ¿ä¼˜å…ˆå¯¼è‡´çš„é‡æ–°è¯†åˆ«å¤±æ•ˆé—®é¢˜ã€‚

### 2. å‰ç«¯åˆ†å±‚æ§åˆ¶å° (Phase 2 & 3)
- **è§†è§‰åˆ†å±‚**:
    - **ç¬¬ä¸€å±‚ (è¯†åˆ«è®¾ç½®)**: é›†æˆäº†ç­–ç•¥åˆ‡æ¢ï¼ˆâš¡ï¸æé€Ÿã€âš–ï¸å¹³è¡¡ã€ğŸ”ç²¾ç»†ï¼‰ã€åˆ†è¾¨ç‡é€‰æ‹©åŠç½®ä¿¡åº¦è°ƒæ•´ã€‚
    - **ç¬¬äºŒå±‚ (è§†å›¾å·¥å…·)**: é›†æˆäº†ç¼©æ”¾æ§åˆ¶ã€ç±»åˆ«è¿‡æ»¤å‹¾é€‰å’Œé¢„è§ˆå¯è§æ€§åˆ‡æ¢ã€‚
- **å¾ªç¯ç¼©æ”¾æ§åˆ¶**: â€œè‡ªé€‚åº”â€æŒ‰é’®ç°åœ¨æ”¯æŒ 150% -> 200% -> 100% çš„å¤šçº§å¾ªç¯è·³è½¬ï¼Œæ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿæ£€æŸ¥ç»†èŠ‚ã€‚
- **ç­–ç•¥é¢„è®¾**:
    - `ç²¾ç»†æ¨¡å¼`: è‡ªåŠ¨å¼€å¯ `imgsz=1600`ã€ä½ç½®ä¿¡åº¦ã€è·¨ç±»åˆ«æŠ‘åˆ¶ï¼Œé€‚åˆå¤æ‚å•æ®ã€‚
    - `å¹³è¡¡æ¨¡å¼`: é»˜è®¤è®¾ç½®ï¼Œå…¼é¡¾é€Ÿåº¦ä¸è¯†åˆ«æ·±åº¦ã€‚

- **è§†å›¾è¿‡æ»¤å™¨**: ç°åœ¨æ”¯æŒæ›´ä¸°å¯Œçš„è¦ç´ è¿‡æ»¤ï¼ˆæ–°å¢ï¼šå›¾ç‰‡ã€é¡µè„šï¼‰ã€‚
- **è¡¨æ ¼å¾®è°ƒä¼˜åŒ–**:
    - æ‰¾å›å¹¶è¿˜åŸäº†ä¾§è¾¹æ ä¸¢å¤±çš„ `å¸é™„å®¹å·® (Snap)` è°ƒèŠ‚æ»‘å—ã€‚
    - é‡æ–°é›†æˆäº† `ä¿å­˜è¯†åˆ«è§„åˆ™` æŒ‰é’®ï¼Œæ”¯æŒåœ¨å¾®è°ƒå®Œæˆåç›´æ¥å…¥åº“ã€‚
    - å®ç°äº†è¡¨æ ¼å¾®è°ƒè§†å›¾ä¸‹çš„ `ç”»é¢ç¼©æ”¾` æ¨¡å—ï¼Œç‚¹å‡»â€œè‡ªé€‚åº”â€æŒ‰é’®æ”¯æŒ 150% -> 200% -> 100% çš„å¾ªç¯è·³è½¬ï¼Œé€»è¾‘ä¸ç‰ˆå—è¯†åˆ«ä¿æŒä¸€è‡´ã€‚
- **å“åº”å¼å¸ƒå±€ä¼˜åŒ–**:
    - ä¿®å¤äº†æ§åˆ¶é¢æ¿åœ¨å°å±å¹•æˆ–ä¾§è¾¹æ å±•å¼€æ—¶çš„æŒ¤å‹é—®é¢˜ã€‚
    - é€šè¿‡ Flexbox çš„ `min-width` å’Œ `white-space: nowrap` ç­–ç•¥ï¼Œç¡®ä¿å‚æ•°è°ƒèŠ‚åŒºåœ¨é«˜åŠ¨æ€å®½åº¦ä¸‹ä¾ç„¶ä¿æŒå•è¡Œä¸æ¢è¡Œï¼Œæ“ä½œä½“éªŒä¸€è‡´ã€‚
- **å¸ƒå±€å¾®è°ƒ**:
    - â€œé‡æ–°åˆ†æâ€æŒ‰é’®ç°å·²ç§»è‡³å³ä¾§ï¼Œä¸å·¥å…·æ æ“ä½œåŒºå¯¹é½ã€‚
    - â€œç½®ä¿¡åº¦â€æ»‘å—å·²æ˜¾è‘—åŠ é•¿ï¼Œæ“ä½œæ„Ÿæ›´ç»†è…»ã€‚

### 3. è¦ç´ ç»“æœåŠ¨æ€è¿‡æ»¤ (Phase 4)
- **è¿‡æ»¤é€»è¾‘**: æ”¯æŒåœ¨ä¾§è¾¹æ æˆ–å·¥å…·æ é€šè¿‡å‹¾é€‰åˆ†ç±»ï¼ˆå¦‚åªå‹¾é€‰â€œè¡¨æ ¼â€ï¼‰æ¥å³æ—¶æ¸…ç†é¢„è§ˆç”»é¢ã€‚
- **äº¤äº’å®‰å…¨**: è¿‡æ»¤ä»…å½±å“æ¸²æŸ“å±‚ï¼Œç”¨æˆ·ä¾ç„¶å¯ä»¥å¯¹æ‰€æœ‰è¦ç´ è¿›è¡Œå…¨å±€ä¿å­˜å’Œå¯¼å‡ºã€‚

---

## éªŒè¯æ¼”ç¤º

### UI å¸ƒå±€é¢„è§ˆ
![åˆ†å±‚æ§åˆ¶å° UI é¢„è§ˆ](/Users/icychick/Projects/industry_PDF/frontend/screenshots/layout_v2_toolbar.png)
> (æ³¨ï¼šå¦‚æœæœ¬åœ°è¿è¡Œï¼Œæ‚¨å¯ä»¥åœ¨é¢„è§ˆé¢æ¿é¡¶éƒ¨çœ‹åˆ°æ–°å¢çš„è¯†åˆ«ç­–ç•¥åˆ‡æ¢æ ã€‚)

### éªŒè¯æ­¥éª¤å»ºè®®
1.  **åŠ è½½å•æ®**: ä¸Šä¼ ä¸€ä¸ªå·¥ä¸š PDFã€‚
2.  **åˆ‡æ¢ç²¾ç»†æ¨¡å¼**: æ‚¨ä¼šå‘ç°è¯†åˆ«åˆ†è¾¨ç‡æå‡ï¼ˆåŠ è½½ç¨å¾®å˜æ…¢ï¼‰ï¼ŒåŸæœ¬æ¼æ£€çš„å°æ–‡å­—å—ä¼šè¢«æ›´å¤šåœ°æ£€å‡ºã€‚
3.  **ä½¿ç”¨è¿‡æ»¤**: å‹¾é€‰â€œä»…çœ‹è¡¨æ ¼â€ï¼Œè§‚å¯Ÿé¡µé¢ä¸­éè¡¨æ ¼ç±»çš„æ ‡æ³¨æ¡†æ˜¯å¦è¢«å¹³æ»‘éšè—ã€‚
4.  **è°ƒæ•´ resolution**: æ‰‹åŠ¨å°† imgsz é™è‡³ 640ï¼Œç‚¹å‡»é‡æ–°è¯†åˆ«ï¼Œä½“éªŒæè‡´çš„æ¨ç†é€Ÿåº¦ã€‚

## ç›¸å…³æ–‡ä»¶
- [App.jsx](file:///Users/icychick/Projects/industry_PDF/frontend/src/App.jsx)
- [inference.py](file:///Users/icychick/Projects/industry_PDF/backend/inference.py)
- [index.css](file:///Users/icychick/Projects/industry_PDF/frontend/src/index.css)
- [DocumentEditor.jsx](file:///Users/icychick/Projects/industry_PDF/frontend/src/components/DocumentEditor.jsx)
