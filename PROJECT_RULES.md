# 项目开发规则 (Project Rules)

## 1. 核心术语与 UI 规范
- **中文化原则**：UI 文本优先使用中文。
- **模式命名**：
  - “标准模式” (原 Auto)：自动识别匹配。
  - “自定义模式” (原 Custom)：基于用户定义。
- **视觉准则**：所有 UI 实现必须遵循 [STYLE_GUIDE.md](STYLE_GUIDE.md) 中的变量、比例和玻璃拟态原则。

## 2. 开发原则：功能导向
- **逻辑优先**：优先实现功能闭环与接口对接，严禁中途陷入 1px 级别的 UI 微调。
- **延迟美化**：UI 极致优化应集中在功能验证通过后的“美化阶段”进行。
- **Agent 提醒**：若开发任务中途偏向非必要 UI 细节，Agent 需主动提醒回归核心任务。

## 3. 技术与数据标准
- **数据一致性**：SQLite 索引与磁盘实体文件必须同步查询并内联返回。
- **服务感知**：修改后端逻辑后需重启服务 (`uv run python main.py`) 并验证数据结构。
- **动效选型**：基础状态切换使用原生 CSS；复杂布局变换强制使用 `framer-motion`。

## 4. 数据提取 JSON 标准
数据提取接口必须返回以下核心结构，禁止包含物理坐标 (`x, y, w, h`) 信息：

```json
{
  "status": "success",
  "data": {
    "auto_0": {
      "type": "title/table/text/header/footer/list/equation/figure",
      "label": "要素分类显示名称",
      "content": "文本内容或二维数组",
      "remarks": "业务备注或 null"
    }
  }
}
```
*注：Key 必须使用区域 ID，Content 针对表格类型必须使用二维数组。*

---
*最后更新：2026-01-22*
