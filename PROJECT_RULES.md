# 项目开发规则 (Project Rules)

## UI 文本规范
1. **纯中文原则**：除非必须（如代码、ID、特定术语），UI 上的所有文本内容应优先使用中文，避免中外文混合。
2. **模式命名规范**：
   - 原 `Auto` / `自动` 统一更名为 **“标准模式”**。
   - 原 `Custom` / `自定义` 统一更名为 **“自定义模式”**。


## 核心原则：功能导向与延迟美化

为了确保项目进度与逻辑稳定性，制定以下开发流程规则：

### 1. 优先完成功能逻辑
- 在大版本或具体功能（Feature）的开发过程中，应优先实现业务逻辑、接口对接及交互核心流。
- 严禁在功能逻辑尚未闭环、核心交互未跑通的情况下，频繁进行 UI 细节（如阴影、圆角、1px 级别的边距对齐等）的微调。

### 2. 集中式 UI 调整
- UI 细节的极致优化应推迟到每个大版本（Major Version）或关键里程碑（Milestone）功能完全通过验证后，统一进行“美化阶段”处理。

### 3. Agent 监督职责
- **主动提醒**：如果用户或 Agent 试图在功能开发中途发起非必要的 UI 细节优化，Agent **必须**主动提醒用户，建议先完成功能闭环。
- **确认机制**：在收到 UI 调整要求时，Agent 应根据当前任务进度判断是否属于“美化项”，并向用户确认：“当前功能尚未完整交付，是否仍要现在调整 UI 细节？”

## 數據與穩定性規範
1. **數據一致性 (Data Integrity)**：
   - 當數據分層存儲（如 SQLite 存儲索引，JSON 存儲詳細定義）時，查詢接口**必須**保證數據的完整性。
   - 嚴禁僅返回數據庫索引而忽略磁盤實體文件內容。在 `list_templates` 類接口中，必須執行實體文件與數據庫記錄的內聯合併。
2. **服務狀態感知**：
   - 修改後端邏輯（如 `database.py`）後，**必須**重啟后端服務 (uv run python main.py) 以使變更生效，並通過 `curl` 或交互日誌驗證數據結構。

## UI 交互規範
1. **搜索交互**：
   - 在側邊欄等狹窄空間，搜索框應避免與標題並排擠佔空間。
   - 推薦採用“切換模式”：默認顯示標題與搜索圖標，激活時搜索框替換標題位置，平衡空間利用與視覺優雅。

---
*最后更新：2026-01-16*
